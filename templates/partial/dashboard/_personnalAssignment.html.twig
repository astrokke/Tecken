<turbo-frame id="personnalAssignment">
<div class="assignment-rate-box rounded mb-4" style="max-width:100%">
    <h3 class="text-white">Taux d'affectation</h3>
    <span class="text-white">{{ periodLabel }}</span>
    <div class="d-flex align-items-center ms-3 mb-1">
        {% for activity in myAffectation %}
            <div class="ms-2"
                 style="width: 15px;
                        height: 10px;
                        background-color: {{ activity.color }}"></div>
            <span class="ms-2 text-white">{{ activity.activity }}</span>
        {% endfor %}
    </div>
    <p class="mt-2 text-white">Affectation de {{ user.firstName }}</p>
    <div class="progress" style="height: 30px;">
        {% for activity in myAffectation %}
            <div class="progress-bar progress-bar-striped"
                 role="progressbar"
                 style="width: {{ activity.percentage }}%;
                        background-color: {{ activity.color }}"
                 aria-valuenow="{{ activity.percentage }}"
                 aria-valuemin="0"
                 aria-valuemax="100"
                 data-bs-toggle="tooltip"
                 data-bs-placement="top"
                 title="{{ activity.activity }}: {{ activity.time }}H">{{ activity.percentage }}%</div>
        {% endfor %}
    </div>
    <div class="mt-3 d-flex justify-content-between flex-wrap">
        <!-- Boutons pour la vue semaine -->
        <div class="btn-group d-flex">
            <a href="{{ path('dashboard', {view: 'myStat', id: user.id, periodView: 'week', weekOffset: weekOffset - 1}) }}"
               class="btn btn-outline-primary btn-sm d-flex align-items-center justify-content-center"><</a>
            <a href="{{ path('dashboard', {view: 'myStat', id: user.id, periodView: 'week', weekOffset: 0}) }}"
               class="btn btn-outline-primary btn-sm d-flex align-items-center justify-content-center">Semaine</a>
            <a href="{{ path('dashboard', {view: 'myStat', id: user.id, periodView: 'week', weekOffset: weekOffset + 1}) }}"
               class="btn btn-outline-primary btn-sm d-flex align-items-center justify-content-center">></a>
        </div>
    </div>
</div>
</turbo-frame>
